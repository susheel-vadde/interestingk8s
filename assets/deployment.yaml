apiVersion: apps/v1
kind: Deployment
metadata:
  name: java-app
  labels:
    app: java-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: java-application  # Issue 1: Label mismatch with template
  template:
    metadata:
      labels:
        app: java-app
    spec:
      containers:
      - name: java-app
        image: java-app:2.0  # Issue 2: Wrong tag (should be 1.0)
        ports:
        - containerPort: 8081  # Issue 3: Wrong port (should be 8080)
        # Issue 4: No resource limits (will cause OOMKilled)
        # Issue 5: No health checks (will crash without notice)
        env:
        - name: JAVA_OPTS
          value: "-Xmx2048m -Xms2048m"  # Issue 6: Too much memory for small cluster
